{
	"info": {
		"_postman_id": "721911f4-db5b-45b7-9506-655f96d27bbd",
		"name": "Trotti-UL API Test Suite",
		"description": "Comprehensive test suite for the Trotti-UL electric scooter rental service API",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "30324537",
		"_collection_link": "https://galactic-capsule-320452.postman.co/workspace/Team-Workspace~be7ef9c6-3fe5-4080-8ed9-f92bd43bd39d/collection/30324537-721911f4-db5b-45b7-9506-655f96d27bbd?action=share&source=collection_link&creator=30324537"
	},
	"item": [
		{
			"name": "1. System Health",
			"item": [
				{
					"name": "Health Check",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 200', function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('Response has status UP', function () {",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData.status).to.eql('UP');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/heartbeat",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"heartbeat"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "2. Account Management",
			"item": [
				{
					"name": "Create Student Account",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 201', function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test('Location header is present', function () {",
									"    pm.response.to.have.header('Location');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Jean Étudiant\",\n  \"birthDate\": \"2000-05-15\",\n  \"gender\": \"MALE\",\n  \"idul\": \"jetu123\",\n  \"email\": \"jean.etudiant@ulaval.ca\",\n  \"password\": \"Password123!@#\",\n  \"role\": \"STUDENT\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/accounts",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"accounts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Employee Account",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 201', function () {",
									"    pm.response.to.have.status(201);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Marie Employée\",\n  \"birthDate\": \"1985-03-20\",\n  \"gender\": \"FEMALE\",\n  \"idul\": \"memp456\",\n  \"email\": \"marie.employee@ulaval.ca\",\n  \"password\": \"Password123!@#\",\n  \"role\": \"EMPLOYEE\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/accounts",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"accounts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Login as Admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 200', function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('JWT token is returned', function () {",
									"    const responseText = pm.response.text();",
									"    pm.expect(responseText).to.include('eyJ');",
									"    pm.collectionVariables.set('adminToken', responseText.replace(/\"/g, ''));",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"admin@ulaval.ca\",\n  \"password\": \"ChangeMe123!@#\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/auth/login",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"auth",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "Login as Student",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 200', function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"const responseText = pm.response.text();",
									"pm.collectionVariables.set('studentToken', responseText.replace(/\"/g, ''));"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"jean.etudiant@ulaval.ca\",\n  \"password\": \"Password123!@#\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/auth/login",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"auth",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "Login as Employee",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 200', function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"const responseText = pm.response.text();",
									"pm.collectionVariables.set('employeeToken', responseText.replace(/\"/g, ''));"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"marie.employee@ulaval.ca\",\n  \"password\": \"Password123!@#\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/auth/login",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"auth",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Technician Account (Admin Only)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 201', function () {",
									"    pm.response.to.have.status(201);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{adminToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Pierre Technicien\",\n  \"birthDate\": \"1990-08-10\",\n  \"gender\": \"MALE\",\n  \"idul\": \"ptech789\",\n  \"email\": \"pierre.technicien@ulaval.ca\",\n  \"password\": \"Password123!@#\",\n  \"role\": \"TECHNICIAN\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/accounts/company",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"accounts",
								"company"
							]
						}
					},
					"response": []
				},
				{
					"name": "Login as Technician",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 200', function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"const responseText = pm.response.text();",
									"pm.collectionVariables.set('technicianToken', responseText.replace(/\"/g, ''));"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"pierre.technicien@ulaval.ca\",\n  \"password\": \"Password123!@#\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/auth/login",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"auth",
								"login"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "3. Order Management",
			"item": [
				{
					"name": "Get Current Order (Empty)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 200 or 404', function () {",
									"    pm.expect(pm.response.code).to.be.oneOf([200, 404]);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{studentToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/order",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"order"
							]
						}
					},
					"response": []
				},
				{
					"name": "Add Item to Order",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 200', function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('Response contains items', function () {",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('items');",
									"    if (jsonData.items && jsonData.items.length > 0) {",
									"        pm.collectionVariables.set('itemId', jsonData.items[0].itemId);",
									"    }",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{studentToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"maximumDailyTravelTime\": 30,\n  \"session\": \"A25\",\n  \"billingFrequency\": \"MONTHLY\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/order",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"order"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Order with Items",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 200', function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('Order contains items', function () {",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData.items).to.be.an('array');",
									"    pm.expect(jsonData.items.length).to.be.greaterThan(0);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{studentToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/order",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"order"
							]
						}
					},
					"response": []
				},
				{
					"name": "Add Second Item to Order",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 200', function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{studentToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"maximumDailyTravelTime\": 60,\n  \"session\": \"H26\",\n  \"billingFrequency\": \"PER_TRIP\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/order",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"order"
							]
						}
					},
					"response": []
				},
				{
					"name": "Remove Specific Item",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 204', function () {",
									"    pm.response.to.have.status(204);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "{{studentToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/order/{{itemId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"order",
								"{{itemId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Confirm Order with Payment",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 200 or 400', function () {",
									"    pm.expect(pm.response.code).to.be.oneOf([200, 400]);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{studentToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"cardNumber\": \"4111111111111111\",\n  \"cardHolderName\": \"Jean Étudiant\",\n  \"expirationDate\": \"2026-12\",\n  \"cvv\": \"123\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/order/confirm",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"order",
								"confirm"
							]
						}
					},
					"response": []
				},
				{
					"name": "Clear All Items from Order",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 204', function () {",
									"    pm.response.to.have.status(204);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "{{studentToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/order",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"order"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "4. Ride Permits",
			"item": [
				{
					"name": "Get User Ride Permits",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 200', function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{studentToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/ride-permit",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"ride-permit"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Specific Ride Permit",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 200 or 404', function () {",
									"    pm.expect(pm.response.code).to.be.oneOf([200, 404]);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{studentToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/ride-permit/{{ridePermitId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"ride-permit",
								"{{ridePermitId}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "4. Trip Management",
			"item": [
				{
					"name": "Request Unlock Code",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 200 or 404', function () {",
									"    pm.expect(pm.response.code).to.be.oneOf([200, 404]);",
									"});",
									"",
									"if (pm.response.code === 200) {",
									"    const jsonData = pm.response.json();",
									"    if (jsonData.message && jsonData.message.includes('Code:')) {",
									"        const code = jsonData.message.split('Code: ')[1];",
									"        pm.collectionVariables.set('unlockCode', code);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "{{studentToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/trips/test-permit-id/unlock-code",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"trips",
								"test-permit-id",
								"unlock-code"
							]
						}
					},
					"response": []
				},
				{
					"name": "Start Trip",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 200 or 400 or 404', function () {",
									"    pm.expect(pm.response.code).to.be.oneOf([200, 400, 404]);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{studentToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"ridePermitId\": \"test-permit-id\",\n  \"unlockCode\": \"{{unlockCode}}\",\n  \"location\": \"VACHON\",\n  \"slotNumber\": \"1\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/trips/start",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"trips",
								"start"
							]
						}
					},
					"response": []
				},
				{
					"name": "End Trip",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 200 or 404', function () {",
									"    pm.expect(pm.response.code).to.be.oneOf([200, 404]);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{studentToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"location\": \"PEPS\",\n  \"slotNumber\": \"5\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/trips/end",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"trips",
								"end"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Trip History",
					"request": {
						"method": "GET",
						"header": []
					},
					"response": []
				}
			]
		},
		{
			"name": "5. Station Management",
			"item": [
				{
					"name": "Get Available Slots",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 200', function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('Response is an array', function () {",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.be.an('array');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/stations/VACHON/slots/available",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"stations",
								"VACHON",
								"slots",
								"available"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Occupied Slots",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 200', function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('Response is an array', function () {",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.be.an('array');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/stations/VACHON/slots/occupied",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"stations",
								"VACHON",
								"slots",
								"occupied"
							]
						}
					},
					"response": []
				},
				{
					"name": "Start Maintenance",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 200 or 409', function () {",
									"    pm.expect(pm.response.code).to.be.oneOf([200, 409]);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{technicianToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"location\": \"PEPS\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/stations/maintenance/start",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"stations",
								"maintenance",
								"start"
							]
						}
					},
					"response": []
				},
				{
					"name": "End Maintenance",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 200 or 409', function () {",
									"    pm.expect(pm.response.code).to.be.oneOf([200, 409]);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{technicianToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"location\": \"PEPS\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/stations/maintenance/end",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"stations",
								"maintenance",
								"end"
							]
						}
					},
					"response": []
				},
				{
					"name": "Request Maintenance Service",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 204', function () {",
									"    pm.response.to.have.status(204);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{studentToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"location\": \"DESJARDINS\",\n  \"message\": \"Scooter défectueux à l'emplacement 3\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/stations/maintenance/request",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"stations",
								"maintenance",
								"request"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "6. Transfer Operations",
			"item": [
				{
					"name": "Initiate Transfer",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 200 or 409', function () {",
									"    pm.expect(pm.response.code).to.be.oneOf([200, 409]);",
									"});",
									"",
									"if (pm.response.code === 200) {",
									"    const jsonData = pm.response.json();",
									"    if (jsonData.transferId) {",
									"        pm.collectionVariables.set('transferId', jsonData.transferId);",
									"    }",
									"}"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{technicianToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"sourceStation\": \"VACHON\",\n  \"sourceSlots\": [1, 2, 3]\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/stations/transfers/initiate",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"stations",
								"transfers",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "Unload Scooters",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 200 or 404', function () {",
									"    pm.expect(pm.response.code).to.be.oneOf([200, 404]);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{technicianToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"destinationStation\": \"MYRAND\",\n  \"destinationSlots\": [1, 2, 3]\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/stations/transfers/{{transferId}}/unload",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"stations",
								"transfers",
								"{{transferId}}",
								"unload"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "7. Error Handling Tests",
			"item": [
				{
					"name": "Invalid Login Credentials",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 401', function () {",
									"    pm.response.to.have.status(401);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"invalid@ulaval.ca\",\n  \"password\": \"wrongpassword\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/auth/login",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"auth",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "Unauthorized Access",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 401', function () {",
									"    pm.response.to.have.status(401);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"location\": \"VACHON\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/stations/maintenance/start",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"stations",
								"maintenance",
								"start"
							]
						}
					},
					"response": []
				},
				{
					"name": "Invalid Station Location",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 404', function () {",
									"    pm.response.to.have.status(404);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/stations/INVALID_STATION/slots/available",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"stations",
								"INVALID_STATION",
								"slots",
								"available"
							]
						}
					},
					"response": []
				},
				{
					"name": "Duplicate Account Creation",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 409', function () {",
									"    pm.response.to.have.status(409);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Jean Étudiant Duplicate\",\n  \"birthDate\": \"2000-05-15\",\n  \"gender\": \"MALE\",\n  \"idul\": \"jetu123\",\n  \"email\": \"jean.etudiant@ulaval.ca\",\n  \"password\": \"Password123!@#\",\n  \"role\": \"STUDENT\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/accounts",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"accounts"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "8. All Station Locations Test",
			"item": [
				{
					"name": "Test All Station Locations",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const stations = ['VACHON', 'PEPS', 'DESJARDINS', 'VANDRY', 'MYRAND', 'PYRAMIDE', 'CASAULT', 'PLACE_STE_FOY'];",
									"pm.collectionVariables.set('stations', JSON.stringify(stations));",
									"pm.collectionVariables.set('currentStationIndex', 0);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"const stations = JSON.parse(pm.collectionVariables.get('stations'));",
									"let currentIndex = parseInt(pm.collectionVariables.get('currentStationIndex'));",
									"",
									"if (currentIndex < stations.length) {",
									"    const station = stations[currentIndex];",
									"    ",
									"    pm.test(`Station ${station} - Available slots endpoint works`, function () {",
									"        pm.response.to.have.status(200);",
									"    });",
									"    ",
									"    pm.test(`Station ${station} - Response is array`, function () {",
									"        const jsonData = pm.response.json();",
									"        pm.expect(jsonData).to.be.an('array');",
									"    });",
									"    ",
									"    currentIndex++;",
									"    pm.collectionVariables.set('currentStationIndex', currentIndex);",
									"    ",
									"    if (currentIndex < stations.length) {",
									"        const nextStation = stations[currentIndex];",
									"        postman.setNextRequest('Test All Station Locations');",
									"        pm.collectionVariables.set('currentStation', nextStation);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/stations/{{currentStation}}/slots/available",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"stations",
								"{{currentStation}}",
								"slots",
								"available"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:8080",
			"type": "string"
		},
		{
			"key": "adminToken",
			"value": "",
			"type": "string"
		},
		{
			"key": "studentToken",
			"value": "",
			"type": "string"
		},
		{
			"key": "technicianToken",
			"value": "",
			"type": "string"
		},
		{
			"key": "employeeToken",
			"value": "",
			"type": "string"
		},
		{
			"key": "ridePermitId",
			"value": "",
			"type": "string"
		},
		{
			"key": "transferId",
			"value": "",
			"type": "string"
		},
		{
			"key": "unlockCode",
			"value": "",
			"type": "string"
		},
		{
			"key": "itemId",
			"value": "",
			"type": "string"
		}
	]
}